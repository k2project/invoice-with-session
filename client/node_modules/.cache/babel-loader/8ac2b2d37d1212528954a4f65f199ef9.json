{"ast":null,"code":"export const formErrorsStyling = arr => {\n  //when password doesnt meet required parameters and doesnt match the confirmation aria on first password gets overide by 'don't match' msg\n  //uniqueErr allows to display first error msg on first password 'Password must be at least 8 characters long and must contain a number and a capital letter.'\n  const uniqueErr = [];\n  arr.length > 0 && arr.forEach(err => {\n    if (err.param) {\n      if (!uniqueErr.includes(err.param)) {\n        uniqueErr.push(err.param);\n        const input = document.getElementById(err.param); // console.log(err.param, input);\n\n        input.classList.add('form__input--err');\n        input.setAttribute('aria-label', `Error:${err.msg}`);\n      }\n    }\n  });\n  console.log(arr, uniqueErr);\n};\nexport const customInputOnChange = (e, id, formState, setFormState, errors, setErrors) => {\n  const index = formState.findIndex(el => el._id === id);\n  formState[index].value = e.target.value;\n  setFormState([...formState]); //remove errors styling related to the input\n  //update errors array\n\n  e.target.classList.remove('form__input--err');\n  e.target.removeAttribute('aria-label');\n  setErrors(errors.filter(err => err.param !== id));\n};\nexport const inputOnChange = (e, state, stateUpdate) => {\n  const name = e.target.name; //remove errors styling related to the input\n  //empty errors array\n\n  e.target.classList.remove('form__input--err');\n  e.target.removeAttribute('aria-label');\n  const errors = state.errors.filter(err => err.param !== name);\n  stateUpdate({ ...state,\n    [name]: e.target.value,\n    errors\n  });\n};\nexport const checkboxOnChange = (e, state, stateUpdate) => {\n  const name = e.target.name; //remove errors styling related to the input\n  //empty errors array\n\n  e.target.classList.remove('form__input--err');\n  e.target.removeAttribute('aria-label');\n  e.target.value = e.target.checked;\n  const errors = state.errors.filter(err => err.param !== name);\n  stateUpdate({ ...state,\n    [name]: e.target.checked,\n    errors\n  });\n};\nexport const updateStateErrors = async (form, state, updateState, errors) => {\n  if (errors) {\n    await updateState({ ...state,\n      errors: [...state.errors, ...errors]\n    });\n    const errorsLinks = form.querySelectorAll('.form__errs a');\n    if (errorsLinks.length > 0) errorsLinks[0].focus();\n    formErrorsStyling(errors);\n  }\n};\nexport const objHasAllPropertyEmpty = obj => {\n  let res = true;\n\n  if (Object.values(obj).length > 0) {\n    Object.values(obj).forEach(value => {\n      if (value) {\n        res = false;\n        return;\n      }\n\n      res = true;\n    });\n  }\n\n  return res;\n};","map":{"version":3,"sources":["/Users/krispol/Desktop/invoice/invoice-with-session/client/src/components/form/utils/formFuns.js"],"names":["formErrorsStyling","arr","uniqueErr","length","forEach","err","param","includes","push","input","document","getElementById","classList","add","setAttribute","msg","console","log","customInputOnChange","e","id","formState","setFormState","errors","setErrors","index","findIndex","el","_id","value","target","remove","removeAttribute","filter","inputOnChange","state","stateUpdate","name","checkboxOnChange","checked","updateStateErrors","form","updateState","errorsLinks","querySelectorAll","focus","objHasAllPropertyEmpty","obj","res","Object","values"],"mappings":"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","sourcesContent":["export const formErrorsStyling = (arr) => {\n    //when password doesnt meet required parameters and doesnt match the confirmation aria on first password gets overide by 'don't match' msg\n    //uniqueErr allows to display first error msg on first password 'Password must be at least 8 characters long and must contain a number and a capital letter.'\n    const uniqueErr = [];\n\n    arr.length > 0 &&\n        arr.forEach((err) => {\n            if (err.param) {\n                if (!uniqueErr.includes(err.param)) {\n                    uniqueErr.push(err.param);\n                    const input = document.getElementById(err.param);\n                    // console.log(err.param, input);\n                    input.classList.add('form__input--err');\n                    input.setAttribute('aria-label', `Error:${err.msg}`);\n                }\n            }\n        });\n    console.log(arr, uniqueErr);\n};\nexport const customInputOnChange = (\n    e,\n    id,\n    formState,\n    setFormState,\n    errors,\n    setErrors\n) => {\n    const index = formState.findIndex((el) => el._id === id);\n\n    formState[index].value = e.target.value;\n    setFormState([...formState]);\n    //remove errors styling related to the input\n    //update errors array\n    e.target.classList.remove('form__input--err');\n    e.target.removeAttribute('aria-label');\n    setErrors(errors.filter((err) => err.param !== id));\n};\nexport const inputOnChange = (e, state, stateUpdate) => {\n    const name = e.target.name;\n    //remove errors styling related to the input\n    //empty errors array\n    e.target.classList.remove('form__input--err');\n    e.target.removeAttribute('aria-label');\n    const errors = state.errors.filter((err) => err.param !== name);\n    stateUpdate({\n        ...state,\n        [name]: e.target.value,\n        errors,\n    });\n};\nexport const checkboxOnChange = (e, state, stateUpdate) => {\n    const name = e.target.name;\n    //remove errors styling related to the input\n    //empty errors array\n    e.target.classList.remove('form__input--err');\n    e.target.removeAttribute('aria-label');\n    e.target.value = e.target.checked;\n    const errors = state.errors.filter((err) => err.param !== name);\n    stateUpdate({\n        ...state,\n        [name]: e.target.checked,\n        errors,\n    });\n};\nexport const updateStateErrors = async (form, state, updateState, errors) => {\n    if (errors) {\n        await updateState({\n            ...state,\n            errors: [...state.errors, ...errors],\n        });\n        const errorsLinks = form.querySelectorAll('.form__errs a');\n        if (errorsLinks.length > 0) errorsLinks[0].focus();\n        formErrorsStyling(errors);\n    }\n};\n\nexport const objHasAllPropertyEmpty = (obj) => {\n    let res = true;\n    if (Object.values(obj).length > 0) {\n        Object.values(obj).forEach((value) => {\n            if (value) {\n                res = false;\n                return;\n            }\n            res = true;\n        });\n    }\n    return res;\n};\n"]},"metadata":{},"sourceType":"module"}