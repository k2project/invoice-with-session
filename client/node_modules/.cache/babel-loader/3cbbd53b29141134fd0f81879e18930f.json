{"ast":null,"code":"\"use strict\";\n\nconst {\n  mixin\n} = require(\"../../utils\");\n\nconst NodeImpl = require(\"./Node-impl\").implementation;\n\nconst ChildNodeImpl = require(\"./ChildNode-impl\").implementation;\n\nconst NonDocumentTypeChildNodeImpl = require(\"./NonDocumentTypeChildNode-impl\").implementation;\n\nconst DOMException = require(\"domexception\");\n\nconst {\n  TEXT_NODE\n} = require(\"../node-type\");\n\nclass CharacterDataImpl extends NodeImpl {\n  constructor(args, privateData) {\n    super(args, privateData);\n    this._data = privateData.data;\n  }\n\n  get data() {\n    return this._data;\n  }\n\n  set data(data) {\n    this.replaceData(0, this.length, data);\n  }\n\n  get length() {\n    return this._data.length;\n  }\n\n  substringData(offset, count) {\n    const {\n      length\n    } = this;\n\n    if (offset > length) {\n      throw new DOMException(\"The index is not in the allowed range.\", \"IndexSizeError\");\n    }\n\n    if (offset + count > length) {\n      return this._data.substring(offset);\n    }\n\n    return this._data.substring(offset, offset + count);\n  }\n\n  appendData(data) {\n    this.replaceData(this.length, 0, data);\n  }\n\n  insertData(offset, data) {\n    this.replaceData(offset, 0, data);\n  }\n\n  deleteData(offset, count) {\n    this.replaceData(offset, count, \"\");\n  }\n\n  replaceData(offset, count, data) {\n    const {\n      length\n    } = this;\n\n    if (offset > length) {\n      throw new DOMException(\"The index is not in the allowed range.\", \"IndexSizeError\");\n    }\n\n    if (offset + count > length) {\n      count = length - offset;\n    }\n\n    const start = this._data.substring(0, offset);\n\n    const end = this._data.substring(offset + count);\n\n    this._data = start + data + end; // TODO: range stuff\n\n    if (this.nodeType === TEXT_NODE && this.parentNode) {\n      this.parentNode._childTextContentChangeSteps();\n    }\n  }\n\n}\n\nmixin(CharacterDataImpl.prototype, NonDocumentTypeChildNodeImpl.prototype);\nmixin(CharacterDataImpl.prototype, ChildNodeImpl.prototype);\nmodule.exports = {\n  implementation: CharacterDataImpl\n};","map":{"version":3,"sources":["/Users/krispol/Desktop/invoice/invoice-with-session/client/node_modules/jsdom/lib/jsdom/living/nodes/CharacterData-impl.js"],"names":["mixin","require","NodeImpl","implementation","ChildNodeImpl","NonDocumentTypeChildNodeImpl","DOMException","TEXT_NODE","CharacterDataImpl","constructor","args","privateData","_data","data","replaceData","length","substringData","offset","count","substring","appendData","insertData","deleteData","start","end","nodeType","parentNode","_childTextContentChangeSteps","prototype","module","exports"],"mappings":"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","sourcesContent":["\"use strict\";\n\nconst { mixin } = require(\"../../utils\");\nconst NodeImpl = require(\"./Node-impl\").implementation;\nconst ChildNodeImpl = require(\"./ChildNode-impl\").implementation;\nconst NonDocumentTypeChildNodeImpl = require(\"./NonDocumentTypeChildNode-impl\").implementation;\nconst DOMException = require(\"domexception\");\nconst { TEXT_NODE } = require(\"../node-type\");\n\nclass CharacterDataImpl extends NodeImpl {\n  constructor(args, privateData) {\n    super(args, privateData);\n\n    this._data = privateData.data;\n  }\n\n  get data() {\n    return this._data;\n  }\n  set data(data) {\n    this.replaceData(0, this.length, data);\n  }\n\n  get length() {\n    return this._data.length;\n  }\n\n  substringData(offset, count) {\n    const { length } = this;\n\n    if (offset > length) {\n      throw new DOMException(\"The index is not in the allowed range.\", \"IndexSizeError\");\n    }\n\n    if (offset + count > length) {\n      return this._data.substring(offset);\n    }\n\n    return this._data.substring(offset, offset + count);\n  }\n\n  appendData(data) {\n    this.replaceData(this.length, 0, data);\n  }\n\n  insertData(offset, data) {\n    this.replaceData(offset, 0, data);\n  }\n\n  deleteData(offset, count) {\n    this.replaceData(offset, count, \"\");\n  }\n\n  replaceData(offset, count, data) {\n    const { length } = this;\n\n    if (offset > length) {\n      throw new DOMException(\"The index is not in the allowed range.\", \"IndexSizeError\");\n    }\n\n    if (offset + count > length) {\n      count = length - offset;\n    }\n\n    const start = this._data.substring(0, offset);\n    const end = this._data.substring(offset + count);\n\n    this._data = start + data + end;\n\n    // TODO: range stuff\n\n    if (this.nodeType === TEXT_NODE && this.parentNode) {\n      this.parentNode._childTextContentChangeSteps();\n    }\n  }\n}\n\nmixin(CharacterDataImpl.prototype, NonDocumentTypeChildNodeImpl.prototype);\nmixin(CharacterDataImpl.prototype, ChildNodeImpl.prototype);\n\nmodule.exports = {\n  implementation: CharacterDataImpl\n};\n"]},"metadata":{},"sourceType":"script"}