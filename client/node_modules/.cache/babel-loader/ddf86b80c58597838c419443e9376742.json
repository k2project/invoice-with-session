{"ast":null,"code":"export const formErrorsStyling = arr => {\n  //when password doesnt meet required parameters and doesnt match the confirmation aria on first password gets overide by 'don't match' msg\n  //uniqueErr allows to display first error msg on first password 'Password must be at least 8 characters long and must contain a number and a capital letter.'\n  const uniqueErr = [];\n  arr.length > 0 && arr.forEach(err => {\n    if (err.param) {\n      if (!uniqueErr.includes(err.param)) {\n        uniqueErr.push(err.param);\n        const input = document.getElementById(err.param); // console.log(err.param, input);\n\n        input.classList.add('form__input--err');\n        input.setAttribute('aria-label', `Error:${err.msg}`);\n      }\n    }\n  });\n};\nexport const customInputOnChange = (e, id, formState, setFormState, errors, setErrors) => {\n  const inputs = document.querySelectorAll('.ci--on-change');\n  const index = Array.from(inputs).findIndex(el => el.getAttribute('id') === id);\n  console.log(inputs, index);\n  formState[index].value = e.target.value;\n  setFormState([...formState]); //remove errors styling related to the input\n  //update errors array\n\n  e.target.classList.remove('form__input--err');\n  e.target.removeAttribute('aria-label');\n  setErrors(errors.filter(err => err.param !== id));\n};\nexport const inputOnChange = (e, state, stateUpdate) => {\n  const name = e.target.name; //remove errors styling related to the input\n  //empty errors array\n\n  e.target.classList.remove('form__input--err');\n  e.target.removeAttribute('aria-label');\n  const errors = state.errors.filter(err => err.param !== name);\n  stateUpdate({ ...state,\n    [name]: e.target.value,\n    errors\n  });\n};\nexport const checkboxOnChange = (e, state, stateUpdate) => {\n  const name = e.target.name; //remove errors styling related to the input\n  //empty errors array\n\n  e.target.classList.remove('form__input--err');\n  e.target.removeAttribute('aria-label');\n  e.target.value = e.target.checked;\n  const errors = state.errors.filter(err => err.param !== name);\n  stateUpdate({ ...state,\n    [name]: e.target.checked,\n    errors\n  });\n};\nexport const updateStateErrors = async (form, state, updateState, errors) => {\n  if (errors) {\n    await updateState({ ...state,\n      errors: [...state.errors, ...errors]\n    });\n    const errorsLinks = form.querySelectorAll('.form__errs a');\n    if (errorsLinks.length > 0) errorsLinks[0].focus();\n    formErrorsStyling(errors);\n  }\n};\nexport const objHasAllPropertyEmpty = obj => {\n  let res = true;\n\n  if (Object.values(obj).length > 0) {\n    Object.values(obj).forEach(value => {\n      if (value) {\n        res = false;\n        return;\n      }\n\n      res = true;\n    });\n  }\n\n  return res;\n};","map":{"version":3,"sources":["/Users/krispol/Desktop/invoice/invoice-with-session/client/src/components/form/utils/formFuns.js"],"names":["formErrorsStyling","arr","uniqueErr","length","forEach","err","param","includes","push","input","document","getElementById","classList","add","setAttribute","msg","customInputOnChange","e","id","formState","setFormState","errors","setErrors","inputs","querySelectorAll","index","Array","from","findIndex","el","getAttribute","console","log","value","target","remove","removeAttribute","filter","inputOnChange","state","stateUpdate","name","checkboxOnChange","checked","updateStateErrors","form","updateState","errorsLinks","focus","objHasAllPropertyEmpty","obj","res","Object","values"],"mappings":"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","sourcesContent":["export const formErrorsStyling = (arr) => {\n    //when password doesnt meet required parameters and doesnt match the confirmation aria on first password gets overide by 'don't match' msg\n    //uniqueErr allows to display first error msg on first password 'Password must be at least 8 characters long and must contain a number and a capital letter.'\n    const uniqueErr = [];\n    arr.length > 0 &&\n        arr.forEach((err) => {\n            if (err.param) {\n                if (!uniqueErr.includes(err.param)) {\n                    uniqueErr.push(err.param);\n                    const input = document.getElementById(err.param);\n                    // console.log(err.param, input);\n                    input.classList.add('form__input--err');\n                    input.setAttribute('aria-label', `Error:${err.msg}`);\n                }\n            }\n        });\n};\nexport const customInputOnChange = (\n    e,\n    id,\n    formState,\n    setFormState,\n    errors,\n    setErrors\n) => {\n    const inputs = document.querySelectorAll('.ci--on-change');\n    const index = Array.from(inputs).findIndex(\n        (el) => el.getAttribute('id') === id\n    );\n    console.log(inputs, index);\n\n    formState[index].value = e.target.value;\n    setFormState([...formState]);\n    //remove errors styling related to the input\n    //update errors array\n    e.target.classList.remove('form__input--err');\n    e.target.removeAttribute('aria-label');\n    setErrors(errors.filter((err) => err.param !== id));\n};\nexport const inputOnChange = (e, state, stateUpdate) => {\n    const name = e.target.name;\n    //remove errors styling related to the input\n    //empty errors array\n    e.target.classList.remove('form__input--err');\n    e.target.removeAttribute('aria-label');\n    const errors = state.errors.filter((err) => err.param !== name);\n    stateUpdate({\n        ...state,\n        [name]: e.target.value,\n        errors,\n    });\n};\nexport const checkboxOnChange = (e, state, stateUpdate) => {\n    const name = e.target.name;\n    //remove errors styling related to the input\n    //empty errors array\n    e.target.classList.remove('form__input--err');\n    e.target.removeAttribute('aria-label');\n    e.target.value = e.target.checked;\n    const errors = state.errors.filter((err) => err.param !== name);\n    stateUpdate({\n        ...state,\n        [name]: e.target.checked,\n        errors,\n    });\n};\nexport const updateStateErrors = async (form, state, updateState, errors) => {\n    if (errors) {\n        await updateState({\n            ...state,\n            errors: [...state.errors, ...errors],\n        });\n        const errorsLinks = form.querySelectorAll('.form__errs a');\n        if (errorsLinks.length > 0) errorsLinks[0].focus();\n        formErrorsStyling(errors);\n    }\n};\n\nexport const objHasAllPropertyEmpty = (obj) => {\n    let res = true;\n    if (Object.values(obj).length > 0) {\n        Object.values(obj).forEach((value) => {\n            if (value) {\n                res = false;\n                return;\n            }\n            res = true;\n        });\n    }\n    return res;\n};\n"]},"metadata":{},"sourceType":"module"}