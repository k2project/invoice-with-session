{"ast":null,"code":"import axios from 'axios';\n\nconst jsonEqual = (a, b) => {\n  return JSON.stringify(a) === JSON.stringify(b);\n};\n\nexport default async function onUnload(e, appState) {\n  console.log('unloading');\n  var confirmationMessage = 'o/';\n  (e || window.event).returnValue = confirmationMessage; // Gecko + IE\n\n  return confirmationMessage;\n  const config = {\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  };\n  const {\n    profile,\n    companies\n  } = appState;\n  const profileDB = await axios.get('/api/profile');\n  console.log('unloading....');\n  jsonEqual(profile, profileDB) || (await axios.post('/api/profile', JSON.stringify(profile), config));\n  const companiesDB = await axios.get('/api/companies');\n}","map":{"version":3,"sources":["/Users/krispol/Desktop/invoice/invoice-with-session/client/src/utils/onUnload.js"],"names":["axios","jsonEqual","a","b","JSON","stringify","onUnload","e","appState","console","log","confirmationMessage","window","event","returnValue","config","headers","profile","companies","profileDB","get","post","companiesDB"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;;AACA,MAAMC,SAAS,GAAG,CAACC,CAAD,EAAIC,CAAJ,KAAU;AACxB,SAAOC,IAAI,CAACC,SAAL,CAAeH,CAAf,MAAsBE,IAAI,CAACC,SAAL,CAAeF,CAAf,CAA7B;AACH,CAFD;;AAIA,eAAe,eAAeG,QAAf,CAAwBC,CAAxB,EAA2BC,QAA3B,EAAqC;AAChDC,EAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ;AACA,MAAIC,mBAAmB,GAAG,IAA1B;AAEA,GAACJ,CAAC,IAAIK,MAAM,CAACC,KAAb,EAAoBC,WAApB,GAAkCH,mBAAlC,CAJgD,CAIO;;AACvD,SAAOA,mBAAP;AACA,QAAMI,MAAM,GAAG;AACXC,IAAAA,OAAO,EAAE;AACL,sBAAgB;AADX;AADE,GAAf;AAKA,QAAM;AAAEC,IAAAA,OAAF;AAAWC,IAAAA;AAAX,MAAyBV,QAA/B;AACA,QAAMW,SAAS,GAAG,MAAMnB,KAAK,CAACoB,GAAN,CAAU,cAAV,CAAxB;AACAX,EAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ;AACAT,EAAAA,SAAS,CAACgB,OAAD,EAAUE,SAAV,CAAT,KACK,MAAMnB,KAAK,CAACqB,IAAN,CAAW,cAAX,EAA2BjB,IAAI,CAACC,SAAL,CAAeY,OAAf,CAA3B,EAAoDF,MAApD,CADX;AAGA,QAAMO,WAAW,GAAG,MAAMtB,KAAK,CAACoB,GAAN,CAAU,gBAAV,CAA1B;AACH","sourcesContent":["import axios from 'axios';\nconst jsonEqual = (a, b) => {\n    return JSON.stringify(a) === JSON.stringify(b);\n};\n\nexport default async function onUnload(e, appState) {\n    console.log('unloading');\n    var confirmationMessage = 'o/';\n\n    (e || window.event).returnValue = confirmationMessage; // Gecko + IE\n    return confirmationMessage;\n    const config = {\n        headers: {\n            'Content-Type': 'application/json',\n        },\n    };\n    const { profile, companies } = appState;\n    const profileDB = await axios.get('/api/profile');\n    console.log('unloading....');\n    jsonEqual(profile, profileDB) ||\n        (await axios.post('/api/profile', JSON.stringify(profile), config));\n\n    const companiesDB = await axios.get('/api/companies');\n}\n"]},"metadata":{},"sourceType":"module"}