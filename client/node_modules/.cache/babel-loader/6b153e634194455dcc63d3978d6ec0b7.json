{"ast":null,"code":"export const formErrorsStyling = arr => {\n  //when password doesnt meet required parameters and doesnt match the confirmation aria on first password gets overide by 'don't match' msg\n  //uniqueErr allows to display first error msg on first password 'Password must be at least 8 characters long and must contain a number and a capital letter.'\n  const uniqueErr = [];\n  arr.length > 0 && arr.forEach(err => {\n    if (err.param) {\n      if (!uniqueErr.includes(err.param)) {\n        uniqueErr.push(err.param);\n        const input = document.getElementById(err.param); // console.log(err.param, input);\n\n        input.classList.add('form__input--err');\n        input.setAttribute('aria-label', `Error:${err.msg}`);\n      }\n    }\n  });\n};\nexport const inputOnChange = (e, state, stateUpdate) => {\n  const name = e.target.name; //remove errors styling related to the input\n  //empty errors array\n\n  e.target.classList.remove('form__input--err');\n  e.target.removeAttribute('aria-label');\n  const errors = state.errors.filter(err => err.param !== name);\n  stateUpdate({ ...state,\n    value: e.target.value,\n    errors\n  }); // stateUpdate({\n  //     ...state,\n  //     [name]: e.target.value,\n  //     errors\n  // });\n};\nexport const checkboxOnChange = (e, state, stateUpdate) => {\n  const name = e.target.name; //remove errors styling related to the input\n  //empty errors array\n\n  e.target.classList.remove('form__input--err');\n  e.target.removeAttribute('aria-label');\n  e.target.value = e.target.checked;\n  const errors = state.errors.filter(err => err.param !== name);\n  stateUpdate({ ...state,\n    [name]: e.target.checked,\n    errors\n  });\n};\nexport const updateStateErrors = async (form, state, updateState, errors) => {\n  if (errors) {\n    await updateState({ ...state,\n      errors: [...state.errors, ...errors]\n    });\n    const errorsLinks = form.querySelectorAll('.form__errs a');\n    if (errorsLinks.length > 0) errorsLinks[0].focus();\n    formErrorsStyling(errors);\n  }\n};\nexport const sanitize = string => {\n  const map = {\n    // '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;' // '\"': '&quot;',\n    // \"'\": '&#x27;',\n    // '/': '&#x2F;'\n\n  };\n  const reg = /[<>]/gi; // const reg = /[&<>\"'/]/gi;\n\n  return string.replace(reg, match => map[match]);\n};\nexport const cleanData = async state => {\n  Object.keys(state).forEach(function (item) {\n    if (typeof state[item] === 'string') state[item] = sanitize(state[item].trim());\n  });\n};\nexport const objHasAllPropertyEmpty = obj => {\n  let res = true;\n\n  if (Object.values(obj).length > 0) {\n    Object.values(obj).forEach(value => {\n      if (value) {\n        res = false;\n        return;\n      }\n\n      res = true;\n    });\n  }\n\n  return res;\n};","map":{"version":3,"sources":["/Users/krispol/Desktop/invoice/invoice-with-session/client/src/components/form/formFuns.js"],"names":["formErrorsStyling","arr","uniqueErr","length","forEach","err","param","includes","push","input","document","getElementById","classList","add","setAttribute","msg","inputOnChange","e","state","stateUpdate","name","target","remove","removeAttribute","errors","filter","value","checkboxOnChange","checked","updateStateErrors","form","updateState","errorsLinks","querySelectorAll","focus","sanitize","string","map","reg","replace","match","cleanData","Object","keys","item","trim","objHasAllPropertyEmpty","obj","res","values"],"mappings":"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","sourcesContent":["export const formErrorsStyling = (arr) => {\n    //when password doesnt meet required parameters and doesnt match the confirmation aria on first password gets overide by 'don't match' msg\n    //uniqueErr allows to display first error msg on first password 'Password must be at least 8 characters long and must contain a number and a capital letter.'\n    const uniqueErr = [];\n    arr.length > 0 &&\n        arr.forEach((err) => {\n            if (err.param) {\n                if (!uniqueErr.includes(err.param)) {\n                    uniqueErr.push(err.param);\n                    const input = document.getElementById(err.param);\n                    // console.log(err.param, input);\n                    input.classList.add('form__input--err');\n                    input.setAttribute('aria-label', `Error:${err.msg}`);\n                }\n            }\n        });\n};\nexport const inputOnChange = (e, state, stateUpdate) => {\n    const name = e.target.name;\n    //remove errors styling related to the input\n    //empty errors array\n    e.target.classList.remove('form__input--err');\n    e.target.removeAttribute('aria-label');\n    const errors = state.errors.filter((err) => err.param !== name);\n    stateUpdate({\n        ...state,\n        value: e.target.value,\n        errors,\n    });\n    // stateUpdate({\n    //     ...state,\n    //     [name]: e.target.value,\n    //     errors\n    // });\n};\nexport const checkboxOnChange = (e, state, stateUpdate) => {\n    const name = e.target.name;\n    //remove errors styling related to the input\n    //empty errors array\n    e.target.classList.remove('form__input--err');\n    e.target.removeAttribute('aria-label');\n    e.target.value = e.target.checked;\n    const errors = state.errors.filter((err) => err.param !== name);\n    stateUpdate({\n        ...state,\n        [name]: e.target.checked,\n        errors,\n    });\n};\nexport const updateStateErrors = async (form, state, updateState, errors) => {\n    if (errors) {\n        await updateState({\n            ...state,\n            errors: [...state.errors, ...errors],\n        });\n        const errorsLinks = form.querySelectorAll('.form__errs a');\n        if (errorsLinks.length > 0) errorsLinks[0].focus();\n        formErrorsStyling(errors);\n    }\n};\n\nexport const sanitize = (string) => {\n    const map = {\n        // '&': '&amp;',\n        '<': '&lt;',\n        '>': '&gt;',\n        // '\"': '&quot;',\n        // \"'\": '&#x27;',\n        // '/': '&#x2F;'\n    };\n    const reg = /[<>]/gi;\n    // const reg = /[&<>\"'/]/gi;\n    return string.replace(reg, (match) => map[match]);\n};\n\nexport const cleanData = async (state) => {\n    Object.keys(state).forEach(function (item) {\n        if (typeof state[item] === 'string')\n            state[item] = sanitize(state[item].trim());\n    });\n};\nexport const objHasAllPropertyEmpty = (obj) => {\n    let res = true;\n    if (Object.values(obj).length > 0) {\n        Object.values(obj).forEach((value) => {\n            if (value) {\n                res = false;\n                return;\n            }\n            res = true;\n        });\n    }\n    return res;\n};\n"]},"metadata":{},"sourceType":"module"}