{"ast":null,"code":"import { START_SESS, END_SESS, SET_PROFILE_TAB, SET_COMPANY_TAB, REMOVE_PROFILE, CLEAR_COMPANIES, REMOVE_USER } from './types';\nimport { setAlert } from './messages';\nimport { getProfile } from './profile';\nimport { getAllCompanies } from './companies';\nimport { getCurrentUser } from './user';\nexport const startSession = () => async dispatch => {\n  const user = await dispatch(getCurrentUser());\n\n  if (user) {\n    dispatch({\n      type: START_SESS\n    });\n    await dispatch(getAllCompanies());\n    await dispatch(getProfile());\n  }\n};\nexport const endSession = err => dispatch => {\n  dispatch({\n    type: END_SESS\n  });\n  if (err) dispatch(setAlert(err, 'danger', null, false, 10000));\n  localStorage.removeItem('persist:sess');\n  dispatch({\n    type: REMOVE_PROFILE\n  });\n  dispatch({\n    type: CLEAR_COMPANIES\n  });\n  dispatch({\n    type: REMOVE_USER\n  });\n};\nexport const setProfileTab = tab => dispatch => {\n  dispatch({\n    type: SET_PROFILE_TAB,\n    payload: tab\n  });\n};\nexport const setCompanyTab = tab => dispatch => {\n  dispatch({\n    type: SET_COMPANY_TAB,\n    payload: tab\n  });\n};","map":{"version":3,"sources":["/Users/krispol/Desktop/invoice/invoice-with-session/client/src/redux/actions/session.js"],"names":["START_SESS","END_SESS","SET_PROFILE_TAB","SET_COMPANY_TAB","REMOVE_PROFILE","CLEAR_COMPANIES","REMOVE_USER","setAlert","getProfile","getAllCompanies","getCurrentUser","startSession","dispatch","user","type","endSession","err","localStorage","removeItem","setProfileTab","tab","payload","setCompanyTab"],"mappings":"AAAA,SACIA,UADJ,EAEIC,QAFJ,EAGIC,eAHJ,EAIIC,eAJJ,EAKIC,cALJ,EAMIC,eANJ,EAOIC,WAPJ,QAQO,SARP;AASA,SAASC,QAAT,QAAyB,YAAzB;AACA,SAASC,UAAT,QAA2B,WAA3B;AACA,SAASC,eAAT,QAAgC,aAAhC;AACA,SAASC,cAAT,QAA+B,QAA/B;AAEA,OAAO,MAAMC,YAAY,GAAG,MAAM,MAAOC,QAAP,IAAoB;AAClD,QAAMC,IAAI,GAAG,MAAMD,QAAQ,CAACF,cAAc,EAAf,CAA3B;;AACA,MAAIG,IAAJ,EAAU;AACND,IAAAA,QAAQ,CAAC;AAAEE,MAAAA,IAAI,EAAEd;AAAR,KAAD,CAAR;AACA,UAAMY,QAAQ,CAACH,eAAe,EAAhB,CAAd;AACA,UAAMG,QAAQ,CAACJ,UAAU,EAAX,CAAd;AACH;AACJ,CAPM;AASP,OAAO,MAAMO,UAAU,GAAIC,GAAD,IAAUJ,QAAD,IAAc;AAC7CA,EAAAA,QAAQ,CAAC;AAAEE,IAAAA,IAAI,EAAEb;AAAR,GAAD,CAAR;AACA,MAAIe,GAAJ,EAASJ,QAAQ,CAACL,QAAQ,CAACS,GAAD,EAAM,QAAN,EAAgB,IAAhB,EAAsB,KAAtB,EAA6B,KAA7B,CAAT,CAAR;AAETC,EAAAA,YAAY,CAACC,UAAb,CAAwB,cAAxB;AAEAN,EAAAA,QAAQ,CAAC;AAAEE,IAAAA,IAAI,EAAEV;AAAR,GAAD,CAAR;AACAQ,EAAAA,QAAQ,CAAC;AAAEE,IAAAA,IAAI,EAAET;AAAR,GAAD,CAAR;AACAO,EAAAA,QAAQ,CAAC;AAAEE,IAAAA,IAAI,EAAER;AAAR,GAAD,CAAR;AACH,CATM;AAUP,OAAO,MAAMa,aAAa,GAAIC,GAAD,IAAUR,QAAD,IAAc;AAChDA,EAAAA,QAAQ,CAAC;AAAEE,IAAAA,IAAI,EAAEZ,eAAR;AAAyBmB,IAAAA,OAAO,EAAED;AAAlC,GAAD,CAAR;AACH,CAFM;AAGP,OAAO,MAAME,aAAa,GAAIF,GAAD,IAAUR,QAAD,IAAc;AAChDA,EAAAA,QAAQ,CAAC;AAAEE,IAAAA,IAAI,EAAEX,eAAR;AAAyBkB,IAAAA,OAAO,EAAED;AAAlC,GAAD,CAAR;AACH,CAFM","sourcesContent":["import {\n    START_SESS,\n    END_SESS,\n    SET_PROFILE_TAB,\n    SET_COMPANY_TAB,\n    REMOVE_PROFILE,\n    CLEAR_COMPANIES,\n    REMOVE_USER,\n} from './types';\nimport { setAlert } from './messages';\nimport { getProfile } from './profile';\nimport { getAllCompanies } from './companies';\nimport { getCurrentUser } from './user';\n\nexport const startSession = () => async (dispatch) => {\n    const user = await dispatch(getCurrentUser());\n    if (user) {\n        dispatch({ type: START_SESS });\n        await dispatch(getAllCompanies());\n        await dispatch(getProfile());\n    }\n};\n\nexport const endSession = (err) => (dispatch) => {\n    dispatch({ type: END_SESS });\n    if (err) dispatch(setAlert(err, 'danger', null, false, 10000));\n\n    localStorage.removeItem('persist:sess');\n\n    dispatch({ type: REMOVE_PROFILE });\n    dispatch({ type: CLEAR_COMPANIES });\n    dispatch({ type: REMOVE_USER });\n};\nexport const setProfileTab = (tab) => (dispatch) => {\n    dispatch({ type: SET_PROFILE_TAB, payload: tab });\n};\nexport const setCompanyTab = (tab) => (dispatch) => {\n    dispatch({ type: SET_COMPANY_TAB, payload: tab });\n};\n"]},"metadata":{},"sourceType":"module"}