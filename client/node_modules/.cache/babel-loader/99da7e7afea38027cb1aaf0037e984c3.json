{"ast":null,"code":"import React from 'react';\nimport errIcon from '../../imgs/icons/errIcon.png'; //targetEl- el to focus on cancelation for sr\n\nexport const dialogBox = async ({\n  msg,\n  cancelBtnText = 'Cancel',\n  confirmBtnText = 'Proceeed',\n  cancelCb,\n  confirmCb\n}) => {\n  const exist = document.getElementById('dialog');\n\n  if (!exist) {\n    let box = document.createElement('div');\n    box.setAttribute('id', 'dialog'); // box.setAttribute('role', 'dialog');\n    // box.setAttribute('aria-labelledby', 'dialog-header');\n    // box.setAttribute('aria-describedby', 'dialog-body');\n\n    box.className = 'dialog';\n    box.innerHTML = `\n        <div class=\"dialog-box\" aria-describedby=\"dialog-body\" role=\"dialog\">\n            <div class=\"dialog-box__header sr-only\" id=\"dialog-header\">WARNING!</div>\n            <div class=\"dialog-box__body\" id=\"dialog-body\">\n                <img src=\"${errIcon}\" alt=\"\"/> ${msg}\n            </div>\n            <div class=\"dialog-box__footer\" >\n                <button class=\"btn btn--cancel\" id=\"dialog-cancel\">${cancelBtnText}</button>\n                <button class=\"btn btn--ok\" id=\"dialog-confirm\">${confirmBtnText}</button>\n            </div>\n        </div>\n        `;\n    document.body.append(box);\n  }\n\n  document.addEventListener('click', cancelDialog);\n  document.addEventListener('click', confirmDialog);\n  document.addEventListener('mousedown', mouseDownOnDialogBtns);\n\n  function cancelDialog(e) {\n    if (e.target.getAttribute('id') === 'dialog-cancel') {\n      cancelCb();\n      removeEvents();\n      closeDialog();\n    }\n  }\n\n  function confirmDialog(e) {\n    if (e.target.getAttribute('id') === 'dialog-confirm') {\n      confirmCb();\n      removeEvents();\n      closeDialog();\n    }\n  }\n\n  function mouseDownOnDialogBtns(e) {\n    if (e.target.getAttribute('id') === 'dialog-confirm' || e.target.getAttribute('id') === 'dialog-cancel') {\n      e.preventDefault();\n    }\n  }\n\n  function removeEvents() {\n    document.removeEventListener('click', cancelDialog);\n    document.removeEventListener('click', confirmDialog);\n    document.removeEventListener('mousedown', mouseDownOnDialogBtns);\n  }\n\n  function closeDialog() {\n    document.getElementById('dialog').remove();\n  }\n};","map":{"version":3,"sources":["/Users/krispol/Desktop/invoice/invoice-with-session/client/src/components/alerts/alertsFuns.js"],"names":["React","errIcon","dialogBox","msg","cancelBtnText","confirmBtnText","cancelCb","confirmCb","exist","document","getElementById","box","createElement","setAttribute","className","innerHTML","body","append","addEventListener","cancelDialog","confirmDialog","mouseDownOnDialogBtns","e","target","getAttribute","removeEvents","closeDialog","preventDefault","removeEventListener","remove"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,OAAP,MAAoB,8BAApB,C,CACA;;AACA,OAAO,MAAMC,SAAS,GAAG,OAAO;AAC5BC,EAAAA,GAD4B;AAE5BC,EAAAA,aAAa,GAAG,QAFY;AAG5BC,EAAAA,cAAc,GAAG,UAHW;AAI5BC,EAAAA,QAJ4B;AAK5BC,EAAAA;AAL4B,CAAP,KAMnB;AACF,QAAMC,KAAK,GAAGC,QAAQ,CAACC,cAAT,CAAwB,QAAxB,CAAd;;AACA,MAAI,CAACF,KAAL,EAAY;AACR,QAAIG,GAAG,GAAGF,QAAQ,CAACG,aAAT,CAAuB,KAAvB,CAAV;AACAD,IAAAA,GAAG,CAACE,YAAJ,CAAiB,IAAjB,EAAuB,QAAvB,EAFQ,CAGR;AACA;AACA;;AACAF,IAAAA,GAAG,CAACG,SAAJ,GAAgB,QAAhB;AACAH,IAAAA,GAAG,CAACI,SAAJ,GAAiB;;;;4BAIGd,OAAQ,cAAaE,GAAI;;;qEAGgBC,aAAc;kEACjBC,cAAe;;;SARzE;AAYAI,IAAAA,QAAQ,CAACO,IAAT,CAAcC,MAAd,CAAqBN,GAArB;AACH;;AACDF,EAAAA,QAAQ,CAACS,gBAAT,CAA0B,OAA1B,EAAmCC,YAAnC;AACAV,EAAAA,QAAQ,CAACS,gBAAT,CAA0B,OAA1B,EAAmCE,aAAnC;AACAX,EAAAA,QAAQ,CAACS,gBAAT,CAA0B,WAA1B,EAAuCG,qBAAvC;;AAEA,WAASF,YAAT,CAAsBG,CAAtB,EAAyB;AACrB,QAAIA,CAAC,CAACC,MAAF,CAASC,YAAT,CAAsB,IAAtB,MAAgC,eAApC,EAAqD;AACjDlB,MAAAA,QAAQ;AACRmB,MAAAA,YAAY;AACZC,MAAAA,WAAW;AACd;AACJ;;AACD,WAASN,aAAT,CAAuBE,CAAvB,EAA0B;AACtB,QAAIA,CAAC,CAACC,MAAF,CAASC,YAAT,CAAsB,IAAtB,MAAgC,gBAApC,EAAsD;AAClDjB,MAAAA,SAAS;AACTkB,MAAAA,YAAY;AACZC,MAAAA,WAAW;AACd;AACJ;;AACD,WAASL,qBAAT,CAA+BC,CAA/B,EAAkC;AAC9B,QACIA,CAAC,CAACC,MAAF,CAASC,YAAT,CAAsB,IAAtB,MAAgC,gBAAhC,IACAF,CAAC,CAACC,MAAF,CAASC,YAAT,CAAsB,IAAtB,MAAgC,eAFpC,EAGE;AACEF,MAAAA,CAAC,CAACK,cAAF;AACH;AACJ;;AACD,WAASF,YAAT,GAAwB;AACpBhB,IAAAA,QAAQ,CAACmB,mBAAT,CAA6B,OAA7B,EAAsCT,YAAtC;AACAV,IAAAA,QAAQ,CAACmB,mBAAT,CAA6B,OAA7B,EAAsCR,aAAtC;AACAX,IAAAA,QAAQ,CAACmB,mBAAT,CAA6B,WAA7B,EAA0CP,qBAA1C;AACH;;AACD,WAASK,WAAT,GAAuB;AACnBjB,IAAAA,QAAQ,CAACC,cAAT,CAAwB,QAAxB,EAAkCmB,MAAlC;AACH;AACJ,CA/DM","sourcesContent":["import React from 'react';\nimport errIcon from '../../imgs/icons/errIcon.png';\n//targetEl- el to focus on cancelation for sr\nexport const dialogBox = async ({\n    msg,\n    cancelBtnText = 'Cancel',\n    confirmBtnText = 'Proceeed',\n    cancelCb,\n    confirmCb,\n}) => {\n    const exist = document.getElementById('dialog');\n    if (!exist) {\n        let box = document.createElement('div');\n        box.setAttribute('id', 'dialog');\n        // box.setAttribute('role', 'dialog');\n        // box.setAttribute('aria-labelledby', 'dialog-header');\n        // box.setAttribute('aria-describedby', 'dialog-body');\n        box.className = 'dialog';\n        box.innerHTML = `\n        <div class=\"dialog-box\" aria-describedby=\"dialog-body\" role=\"dialog\">\n            <div class=\"dialog-box__header sr-only\" id=\"dialog-header\">WARNING!</div>\n            <div class=\"dialog-box__body\" id=\"dialog-body\">\n                <img src=\"${errIcon}\" alt=\"\"/> ${msg}\n            </div>\n            <div class=\"dialog-box__footer\" >\n                <button class=\"btn btn--cancel\" id=\"dialog-cancel\">${cancelBtnText}</button>\n                <button class=\"btn btn--ok\" id=\"dialog-confirm\">${confirmBtnText}</button>\n            </div>\n        </div>\n        `;\n        document.body.append(box);\n    }\n    document.addEventListener('click', cancelDialog);\n    document.addEventListener('click', confirmDialog);\n    document.addEventListener('mousedown', mouseDownOnDialogBtns);\n\n    function cancelDialog(e) {\n        if (e.target.getAttribute('id') === 'dialog-cancel') {\n            cancelCb();\n            removeEvents();\n            closeDialog();\n        }\n    }\n    function confirmDialog(e) {\n        if (e.target.getAttribute('id') === 'dialog-confirm') {\n            confirmCb();\n            removeEvents();\n            closeDialog();\n        }\n    }\n    function mouseDownOnDialogBtns(e) {\n        if (\n            e.target.getAttribute('id') === 'dialog-confirm' ||\n            e.target.getAttribute('id') === 'dialog-cancel'\n        ) {\n            e.preventDefault();\n        }\n    }\n    function removeEvents() {\n        document.removeEventListener('click', cancelDialog);\n        document.removeEventListener('click', confirmDialog);\n        document.removeEventListener('mousedown', mouseDownOnDialogBtns);\n    }\n    function closeDialog() {\n        document.getElementById('dialog').remove();\n    }\n};\n"]},"metadata":{},"sourceType":"module"}